!function(){"use strict";class e extends Laya.Script{constructor(){super(),this.moveSpeed=null}onAwake(){this.owner.getComponent(Laya.RigidBody).linearVelocity={x:-5,y:0},Laya.stage.on("Gameover",this,function(){this.owner.getComponent(Laya.RigidBody).linearVelocity={x:0,y:0}})}}let a;class t extends Laya.Script{constructor(){super()}onAwake(){a=this.owner.width}onUpdate(){this.owner.x<=-a&&(this.owner.x+=2*a)}}let n=!1;class o extends Laya.Script{constructor(){super(),this.force=null}onAwake(){Laya.stage.on(Laya.Event.MOUSE_DOWN,this,this.mouseDown)}mouseDown(){n||(this.owner.getComponent(Laya.RigidBody).linearVelocity={x:0,y:this.force},this.owner.autoAnimation="Fly",this.owner.loop=!1)}onUpdate(){0==this.owner.isPlaying&&(this.owner.autoAnimation="Idle")}onTriggerEnter(e){"TopCollider"!=e.owner.name&&(this.owner.autoAnimation="Die",n=!0,Laya.stage.event("Gameover"))}}class s extends Laya.Script{constructor(){super(),this.canAddScore=!0}onAwake(){}onUpdate(){this.canAddScore&&this.owner.x<=75&&(this.canAddScore=!1,console.log("成绩增加"))}}let i,r=2e3,c=0,l=!1;class d extends Laya.Script{constructor(){super(),this.columnPre=null}onAwake(){i=this.owner.getChildByName("ColumnParent"),Laya.stage.on("Gameover",this,function(){l=!0})}onUpdate(){l?c=0:(c+=Laya.timer.delta)>=r&&(c=0,r=this.getRandom(3e3,4500),this.spawn())}spawn(){var e=this.columnPre.create();i.addChild(e);var a=this.getRandom(300,660);e.pos(1920,a);var t=a-this.getRandom(260,320),n=this.columnPre.create();i.addChild(n),n.rotation=180,n.pos(2176,t),n.getComponent(s).destroy()}getRandom(e,a){var t=0;return a>e?(t=Math.random()*(a-e),t+=e):(t=Math.random()*(e-a),t+=a),t}}class y{static init(){let a=Laya.ClassUtils.regClass;a("scripts/AutoMove.js",e),a("scripts/RepeatingBg.js",t),a("scripts/BirdCtrl.js",o),a("scripts/ColumnSpawn.js",d),a("scripts/Column.js",s)}}y.width=1920,y.height=1080,y.scaleMode="fixedwidth",y.screenMode="none",y.alignV="top",y.alignH="left",y.startScene="game.scene",y.sceneRoot="",y.debug=!1,y.stat=!1,y.physicsDebug=!1,y.exportSceneToJson=!0,y.init();new class{constructor(){window.Laya3D?Laya3D.init(y.width,y.height):Laya.init(y.width,y.height,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=y.scaleMode,Laya.stage.screenMode=y.screenMode,Laya.stage.alignV=y.alignV,Laya.stage.alignH=y.alignH,Laya.URL.exportSceneToJson=y.exportSceneToJson,(y.debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),y.physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),y.stat&&Laya.Stat.show(),Laya.alertGlobalError=!0,Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}onVersionLoaded(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))}onConfigLoaded(){y.startScene&&Laya.Scene.open(y.startScene)}}}();